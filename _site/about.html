<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Syed Ahmad Zaki - More About Me</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<link rel="stylesheet" media="screen" href="https://fontlibrary.org//face/lato" type="text/css">


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Syed Ahmad Zaki</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html" rel="" target="">
 <span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link active" href="./about.html" rel="" target="" aria-current="page">
 <span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./projects.html" rel="" target="">
 <span class="menu-text">Projects</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./scribbles.html" rel="" target="">
 <span class="menu-text">Scribbles</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./books.html" rel="" target="">
 <span class="menu-text">Books</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="https://www.linkedin.com/in/syed-ahmad-zaki-bin-syed-sakaf-al-attas/" rel="" target=""><i class="bi bi-linkedin" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="mailto:syedahmadzaki@yahoo.com.sg" rel="" target=""><i class="bi bi-envelope" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/syedahmadzaki" rel="" target=""><i class="bi bi-github" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-full page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content column-page" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">More About Me</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<p>I’m truly blessed to have the opportunity to work with global franchise partners and teams in helping them unearth the right locations, using spatial data analytics. Since the field of data analytics (not just spatial) is ever evolving, i’m on the constant search for new ideas, knowledge, and a yearning to expand my analytical skillsets.</p>
<section id="experiences" class="level2">
<h2 class="anchored" data-anchor-id="experiences">EXPERIENCES</h2>
<!-- Start of Grid -->
<div class="grid">
<!-- Start of Left Column -->
<div class="g-col-9">
<!-- Start of Inner Two Columns -->
<div class="columns">
<!-- Start of Inner Two Columns - Logo Column --><div class="column" style="width:6%;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="https://www.pizzahut.com/"><img src="pizzahut.png" class="img-fluid figure-img"></a></p>
</figure>
</div>
</div><div class="column" style="width:2%;">

</div><!-- End of Inner Two Columns - Logo Column --><!-- Start of Inner Two Columns - Text Column --><div class="column" style="width:92%;">
<p><strong>Manager, Market Planning</strong><br>
PIZZA HUT GLOBAL<br>
</p>
<ul>
<li>Key thought partner to BMU &amp; Franchisee development leaders on unit growth strategies</li>
<li>Champion innovative thinking and continuous improvement in the market planning space (restaurant development analytics)</li>
<li>Scale and manage spatial consulting vendors, beyond Asia, to meet growing research demands, as a complement to in-house research studies</li>
<li>Established future-oriented market planning solutions to fulfill growing in-house research needs</li>
<li>Chief cheerleader to a talented team of market planners spread globally</li>
</ul>
</div><!-- End of Inner Two Columns - Text Column -->
</div>
<!-- End of Inner Two Columns -->
</div>
<!-- End of Left Column -->
<!-- Start of Right Column -->
<div class="g-col-3">
<p>JUN 2023 – PRESENT</p>
</div>
<!-- End of Right Column -->
</div>
<!-- End of Grid -->
<!-- Start of Grid -->
<div class="grid">
<!-- Start of Left Column -->
<div class="g-col-9">
<!-- Start of Inner Two Columns -->
<div class="columns">
<!-- Start of Inner Two Columns - Logo Column --><div class="column" style="width:6%;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="https://www.pizzahut.com/"><img src="pizzahut.png" class="img-fluid figure-img"></a></p>
</figure>
</div>
</div><div class="column" style="width:2%;">

</div><!-- End of Inner Two Columns - Logo Column --><!-- Start of Inner Two Columns - Text Column --><div class="column" style="width:92%;">
<p><strong>Development Services Manager</strong><br>
PIZZA HUT ASIA PACIFIC FRANCHISE PTE. LTD.<br>
</p>
<ul>
<li>Leveraged spatial analytics and predictive statistical modeling on large and disparate datasets through the use of R, GIS and SAS, to unlock restaurant growth insights and 1,000+ opportunities within APAC region</li>
<li>Defined, identified and partnered with best-in-class spatial consulting vendor to complete growth research studies on seven major Asian countries</li>
<li>Developed semi-automated competition tracking dashboard on PowerBI, with data sourced from web-scraping R scripts</li>
<li>Co-designed and tested in-house GIS platform, using RShiny, as a GIS SaaS Proof-of-Concept platform</li>
<li>Collaborated with senior management and working level teams of franchise partners to enhance restaurant growth capabilities</li>
<li>Developed close working relations with a local university to further analytical knowledge and synergies</li>
</ul>
</div><!-- End of Inner Two Columns - Text Column -->
</div>
<!-- End of Inner Two Columns -->
</div>
<!-- End of Left Column -->
<!-- Start of Right Column -->
<div class="g-col-3">
<p>FEB 2016 – MAY 2023</p>
</div>
<!-- End of Right Column -->
</div>
<!-- End of Grid -->
<!-- Start of Grid -->
<div class="grid">
<!-- Start of Left Column -->
<div class="g-col-9">
<!-- Start of Inner Two Columns -->
<div class="columns">
<!-- Start of Inner Two Columns - Logo Column --><div class="column" style="width:6%;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="https://www.smu.edu.sg/"><img src="SMU.jpg" class="img-fluid figure-img"></a></p>
</figure>
</div>
</div><div class="column" style="width:2%;">

</div><!-- End of Inner Two Columns - Logo Column --><!-- Start of Inner Two Columns - Text Column --><div class="column" style="width:92%;">
<p><strong>MITB Analytics Research Projects</strong><br>
SINGAPORE MANAGEMENT UNIVERSITY (SMU)<br>
</p>
<ul>
<li>Uncovering retail customer segmentation: A nuanced comparison of clustering algorithms using rough set reduced dataset</li>
<li>Project partnership with Ninja Van: Improving overall shipper retention rates</li>
<li>VAST Challenge 2021</li>
</ul>
</div><!-- End of Inner Two Columns - Text Column -->
</div>
<!-- End of Inner Two Columns -->
</div>
<!-- End of Left Column -->
<!-- Start of Right Column -->
<div class="g-col-3">
<p>JAN 2021 - DEC 2022</p>
</div>
<!-- End of Right Column -->
</div>
<!-- End of Grid -->
<!-- Start of Grid -->
<div class="grid">
<!-- Start of Left Column -->
<div class="g-col-9">
<!-- Start of Inner Two Columns -->
<div class="columns">
<!-- Start of Inner Two Columns - Logo Column --><div class="column" style="width:6%;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="https://www.pizzahut.com/"><img src="pizzahut.png" class="img-fluid figure-img"></a></p>
</figure>
</div>
</div><div class="column" style="width:2%;">

</div><!-- End of Inner Two Columns - Logo Column --><!-- Start of Inner Two Columns - Text Column --><div class="column" style="width:92%;">
<p><strong>Development Specialist</strong><br>
PIZZA HUT RESTAURANTS ASIA PTE. LTD.<br>
</p>
<ul>
<li>Managed financial reporting of Development tools and forecasting of restaurant builds across APAC</li>
<li>Monitored new restaurants’ financial health against forecasted sales</li>
<li>Analysed pre-post restaurant redevelopment effectiveness</li>
<li>Coordinated “to be Developed” system with Legal and Finance on contract renewal terms</li>
</ul>
</div><!-- End of Inner Two Columns - Text Column -->
</div>
<!-- End of Inner Two Columns -->
</div>
<!-- End of Left Column -->
<!-- Start of Right Column -->
<div class="g-col-3">
<p>JUL 2014 - JAN 2016</p>
</div>
<!-- End of Right Column -->
</div>
<!-- End of Grid -->
<!-- Start of Grid -->
<div class="grid">
<!-- Start of Left Column -->
<div class="g-col-9">
<!-- Start of Inner Two Columns -->
<div class="columns">
<!-- Start of Inner Two Columns - Logo Column --><div class="column" style="width:6%;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="https://www.watlow.com/"><img src="watlow.png" class="img-fluid figure-img"></a></p>
</figure>
</div>
</div><div class="column" style="width:2%;">

</div><!-- End of Inner Two Columns - Logo Column --><!-- Start of Inner Two Columns - Text Column --><div class="column" style="width:92%;">
<p><strong>Senior Marketing Analyst / Continuous Improvement Facilitator (Finance Secondment)</strong><br>
WATLOW SINGAPORE PTE. LTD.<br>
</p>
<ul>
<li>Active contributions in Asia’s monthly FP&amp;A budgeting exercise</li>
<li>Conceptualized and established forecasting platform across Asia, for macro-overview on sales and operations planning</li>
<li>Performed financial reporting process</li>
</ul>
</div><!-- End of Inner Two Columns - Text Column -->
</div>
<!-- End of Inner Two Columns -->
</div>
<!-- End of Left Column -->
<!-- Start of Right Column -->
<div class="g-col-3">
<p>APR 2012 - JUN 2014</p>
</div>
<!-- End of Right Column -->
</div>
<!-- End of Grid -->
<!-- Start of Grid -->
<div class="grid">
<!-- Start of Left Column -->
<div class="g-col-9">
<!-- Start of Inner Two Columns -->
<div class="columns">
<!-- Start of Inner Two Columns - Logo Column --><div class="column" style="width:6%;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="https://www.watlow.com/"><img src="watlow.png" class="img-fluid figure-img"></a></p>
</figure>
</div>
</div><div class="column" style="width:2%;">

</div><!-- End of Inner Two Columns - Logo Column --><!-- Start of Inner Two Columns - Text Column --><div class="column" style="width:92%;">
<p><strong>Marketing Analyst / Continuous Improvement Facilitator</strong><br>
WATLOW SINGAPORE PTE. LTD.<br>
</p>
<ul>
<li>Implemented Saleslogix (CRM system) across Asia, for increased visibility on sales opportunities</li>
<li>Facilitated cross-functional Lean improvement initiatives</li>
</ul>
</div><!-- End of Inner Two Columns - Text Column -->
</div>
<!-- End of Inner Two Columns -->
</div>
<!-- End of Left Column -->
<!-- Start of Right Column -->
<div class="g-col-3">
<p>OCT 2010 - MAR 2012</p>
</div>
<!-- End of Right Column -->
</div>
<!-- End of Grid -->
<!-- Start of Grid -->
<div class="grid">
<!-- Start of Left Column -->
<div class="g-col-9">
<!-- Start of Inner Two Columns -->
<div class="columns">
<!-- Start of Inner Two Columns - Logo Column --><div class="column" style="width:6%;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="https://www.spireresearch.com/"><img src="spire.jpg" class="img-fluid figure-img"></a></p>
</figure>
</div>
</div><div class="column" style="width:2%;">

</div><!-- End of Inner Two Columns - Logo Column --><!-- Start of Inner Two Columns - Text Column --><div class="column" style="width:92%;">
<p><strong>Assistant Consultant (Intern)</strong><br>
SPIRE RESEARCH &amp; CONSULTING<br>
</p>
<ul>
<li>Advised on trends and opportunities in key SG industries, for a foreign development agency</li>
<li>Advised on growth areas for a multinational automotive company in Indonesia</li>
</ul>
</div><!-- End of Inner Two Columns - Text Column -->
</div>
<!-- End of Inner Two Columns -->
</div>
<!-- End of Left Column -->
<!-- Start of Right Column -->
<div class="g-col-3">
<p>JUL 2009 - DEC 2009</p>
</div>
<!-- End of Right Column -->
</div>
<!-- End of Grid -->
</section>
<section id="education-certifications" class="level2">
<h2 class="anchored" data-anchor-id="education-certifications">EDUCATION / CERTIFICATIONS</h2>
<!-- Start of Grid -->
<div class="grid">
<!-- Start of Left Column -->
<div class="g-col-9">
<!-- Start of Inner Two Columns -->
<div class="columns">
<!-- Start of Inner Two Columns - Logo Column --><div class="column" style="width:6%;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="https://www.smu.edu.sg/"><img src="SMU.jpg" class="img-fluid figure-img"></a></p>
</figure>
</div>
</div><div class="column" style="width:2%;">

</div><!-- End of Inner Two Columns - Logo Column --><!-- Start of Inner Two Columns - Text Column --><div class="column" style="width:92%;">
<p><strong>Master of IT in Business (MITB) (Analytics Track, SAS Scholarship)</strong><br>
SINGAPORE MANAGEMENT UNIVERSITY (SMU)</p>
</div><!-- End of Inner Two Columns - Text Column -->
</div>
<!-- End of Inner Two Columns -->
</div>
<!-- End of Left Column -->
<!-- Start of Right Column -->
<div class="g-col-3">
<p>2022</p>
</div>
<!-- End of Right Column -->
</div>
<!-- End of Grid -->
<!-- Start of Grid -->
<div class="grid">
<!-- Start of Left Column -->
<div class="g-col-9">
<!-- Start of Inner Two Columns -->
<div class="columns">
<!-- Start of Inner Two Columns - Logo Column --><div class="column" style="width:6%;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="https://www.wharton.upenn.edu/"><img src="wharton.png" class="img-fluid figure-img"></a></p>
</figure>
</div>
</div><div class="column" style="width:2%;">

</div><!-- End of Inner Two Columns - Logo Column --><!-- Start of Inner Two Columns - Text Column --><div class="column" style="width:92%;">
<p><strong>High-Potential Leaders: Accelerating Your Impact</strong><br>
WHARTON EXECUTIVE EDUCATION, PHILADELPHIA</p>
</div><!-- End of Inner Two Columns - Text Column -->
</div>
<!-- End of Inner Two Columns -->
</div>
<!-- End of Left Column -->
<!-- Start of Right Column -->
<div class="g-col-3">
<p>2019</p>
</div>
<!-- End of Right Column -->
</div>
<!-- End of Grid -->
<!-- Start of Grid -->
<div class="grid">
<!-- Start of Left Column -->
<div class="g-col-9">
<!-- Start of Inner Two Columns -->
<div class="columns">
<!-- Start of Inner Two Columns - Logo Column --><div class="column" style="width:6%;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="https://www.isca.org.sg/"><img src="ISCA.jpg" class="img-fluid figure-img"></a></p>
</figure>
</div>
</div><div class="column" style="width:2%;">

</div><!-- End of Inner Two Columns - Logo Column --><!-- Start of Inner Two Columns - Text Column --><div class="column" style="width:92%;">
<p><strong>Chartered Accountant (CA), Singapore</strong><br>
INSTITUTE OF SINGAPORE CHARTERED ACCOUNTANTS (ISCA), SINGAPORE</p>
</div><!-- End of Inner Two Columns - Text Column -->
</div>
<!-- End of Inner Two Columns -->
</div>
<!-- End of Left Column -->
<!-- Start of Right Column -->
<div class="g-col-3">
<p>2019</p>
</div>
<!-- End of Right Column -->
</div>
<!-- End of Grid -->
<!-- Start of Grid -->
<div class="grid">
<!-- Start of Left Column -->
<div class="g-col-9">
<!-- Start of Inner Two Columns -->
<div class="columns">
<!-- Start of Inner Two Columns - Logo Column --><div class="column" style="width:6%;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="https://www.smu.edu.sg/"><img src="SMU.jpg" class="img-fluid figure-img"></a></p>
</figure>
</div>
</div><div class="column" style="width:2%;">

</div><!-- End of Inner Two Columns - Logo Column --><!-- Start of Inner Two Columns - Text Column --><div class="column" style="width:92%;">
<p><strong>Bachelor of Business Management (BBM), OBHR and Finance</strong><br>
SINGAPORE MANAGEMENT UNIVERSITY (SMU)</p>
</div><!-- End of Inner Two Columns - Text Column -->
</div>
<!-- End of Inner Two Columns -->
</div>
<!-- End of Left Column -->
<!-- Start of Right Column -->
<div class="g-col-3">
<p>2010</p>
</div>
<!-- End of Right Column -->
</div>
<!-- End of Grid -->


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>